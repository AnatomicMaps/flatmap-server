==============
Flatmap Server
==============

An anatomical flatmap server for `Mapbox <https://www.mapbox.com/>`_ compatible tilesets generated by `flatmap-maker <https://github.com/dbrnz/flatmap-maker>`_. It is intended to be used with a browser-based `flatmap-viewer <https://github.com/ABI-Software/flatmap-viewer>`_ application. The server is written in Python using the `Flask <https://flask.palletsprojects.com/en/1.1.x/>`_ web framework.

Requirements
============

* Python 3.7
* `pipenv <https://pypi.org/project/pipenv/>`_


Installation
============

1) Clone this repository.
2) Run ``pipenv install``


Running
=======

::

    $ pipenv shell
    $ python src/server.py

**Options**

::

    $ python src/server.py --help
    usage: server.py [-h] [--debug] [--map-dir MAP_DIR] [--port PORT]

    A web-server for flatmaps.

    optional arguments:
      -h, --help         show this help message and exit
      --debug            run in debugging mode (NOT FOR PRODUCTION)
      --map-dir MAP_DIR  top-level directory containing flatmaps (default
                         `./flatmaps`)
      --port PORT        the port to listen on (default 4329)